{"ast":null,"code":"var _jsxFileName = \"/Users/macbookpro/Desktop/Brouillon Doctegestion/Doctegestio finish/Front/src/components/Drop.js\";\nimport React from \"react\";\nimport { Radio } from \"antd\";\nimport axios from \"axios\";\nimport AutoComplet from \"./Autocomplet\";\nimport { NavLink } from \"react-router-dom\";\nlet timer = 0;\n\nclass Upload extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.loadingFileUpload = e => {\n      this.setState({\n        selectedFile: e.target.files\n      });\n      let fileName = [];\n      console.log(\"e.target.files\", e.target.files);\n\n      for (let i in e.target.files) {\n        if (Object.values(e.target.files)[i]) {\n          fileName.push(Object.values(e.target.files)[i].name, Object.values(e.target.files)[i].webkitRelativePath);\n        }\n      } // console.log(\"FILENAME\", fileName);\n\n\n      this.setState({\n        backArrayFileName: fileName\n      }); // console.log(this.state.listeDossier, \"STATEEEE\");\n    };\n\n    this.OnClickUpload = async () => {\n      if (this.state.selectedFile !== null) {\n        let listeDossier = this.state.listeDossier.length ? this.state.listeDossier : [];\n        let listeNomDossier = this.state.listeNomDossier.length ? this.state.listeNomDossier : [];\n        const data = new FormData();\n\n        if (listeDossier.length === 0) {\n          // console.log(this.state.selectedFile, \"selected files\");\n          for (var i = 1; i < this.state.selectedFile.length; i++) {\n            let path = this.state.selectedFile[i].webkitRelativePath.split(\"/\");\n\n            if (listeDossier[path[1]] !== undefined) {\n              listeDossier[path[1]].push(this.state.selectedFile[i]);\n            } else {\n              listeDossier[path[1]] = [this.state.selectedFile[i]];\n              listeDossier.push(listeDossier[path[1]]);\n              listeNomDossier.push(path[1]);\n            }\n          }\n\n          this.setState({\n            loading: true,\n            message: [],\n            listeDossier: listeDossier,\n            listeNomDossier: listeNomDossier\n          });\n        } else {\n          this.setState({\n            loading: false\n          });\n        }\n\n        if (listeDossier.length !== 0) {\n          // console.log(listeDossier, \"TESTTTT\");\n          let arrayData = [];\n\n          for (let i = 0; i < listeDossier.length; i++) {\n            arrayData = arrayData.concat(listeDossier[i]);\n          }\n\n          arrayData.forEach(function (file) {\n            if (file) data.append(\"file\", file, file.webkitRelativePath.replace(/[/]/g, \" ** \"));\n          });\n        } // console.log(arrayData, \"TEST\");\n        //} else {\n        //   console.log(listeDossier, \"LISTE DOSSIER VIDE\");\n        //   for (\n        //     let i = 0;\n        //     i < listeDossier[listeNomDossier[this.state.indice]].length;\n        //     i++\n        //   )\n        //     data.append(\n        //       \"file\",\n        //       listeDossier[listeNomDossier[this.state.indice]][i]\n        //     );\n        // }\n\n\n        let tempDebut = Date.now();\n        await axios.post(\"http://localhost:3001/upload\", data, {}).then(res => {\n          let newDataBack = res.data; // console.log(newDataBack, \"data BACK iCIII\");\n\n          let newResult = [];\n\n          for (let i = 0; i < newDataBack.length; i++) {\n            newResult.push(newDataBack[i][0].resulJson[1]);\n          }\n\n          timer = Date.now() - tempDebut; // console.log(timer, \"MS\");\n          // var TableData = [];\n          // TableData.push(res.data[0].resulJson[1]);\n\n          this.setState({\n            loading: false,\n            dataFromBack: newResult,\n            selectedCheckbox: newResult\n          });\n        });\n      } else {\n        let returnRsult = [];\n        returnRsult.push(404);\n        returnRsult.push(\"Upload un document\");\n        this.setState({\n          message: returnRsult\n        });\n      }\n    };\n\n    this.handleChange = e => {\n      if (e.target.value) {\n        const testTab = [];\n        testTab.push(this.state.dataFromBack[e.target.value]);\n        document.getElementById(\"formGroupExampleInput\").value = testTab[0][\"diag\"];\n        this.setState({\n          selectedCheckbox: testTab,\n          value: e.target.value\n        });\n      }\n    };\n\n    this.sendFileBack = async () => {\n      document.getElementById(\"inputFile\").value = null;\n\n      if (document.getElementById(\"formGroupExampleInput\") !== null) {\n        let ArrayBack = this.state.backArrayFileName;\n        let selectedData = [];\n\n        if (document.getElementById(\"formGroupExampleInput\").value === \"\") {\n          selectedData = [{\n            diag: this.state.selectedCheckbox[0][\"diag\"],\n            scores: this.state.selectedCheckbox[0][\"scores\"],\n            checkModif: false\n          }];\n        } else {\n          selectedData = [{\n            diag: document.getElementById(\"formGroupExampleInput\").value,\n            score: this.state.selectedCheckbox[0][\"scores\"],\n            checkModif: true\n          }];\n        }\n\n        const data = new FormData();\n        data.append(\"radiogroup\", this.state.selectedCheckbox); //recuperer la donnée de fromback et la checkbok l'indice de validation\n\n        await axios({\n          method: \"post\",\n          url: \"http://localhost:3001/radio?mail=illshaad.budureea@dgmail.fr\",\n          data: {\n            data: selectedData,\n            file: ArrayBack,\n            timer: timer,\n            Diags: this.state.dataFromBack\n          }\n        }).then(res => {\n          let returnResult = [];\n          returnResult.push(res.status);\n\n          if (res.status === 200) {\n            returnResult.push(\"Fichier envoyé\");\n          } else {\n            returnResult.push(\"error type : \" + res.status);\n          }\n\n          this.setState({\n            selectedFile: null,\n            dataFromBack: [],\n            selectedCheckbox: [],\n            value: 1,\n            message: returnResult\n          });\n        });\n      }\n    };\n\n    this.drawLine = () => {\n      let result = [];\n      let dossier = [];\n\n      if (this.state.listeNomDossier) {\n        // console.log(this.state.listeNomDossier, \"liste nom dossier\");\n        for (let i = 0; i < this.state.listeNomDossier.length; i++) {\n          dossier.push(this.state.listeNomDossier[i]);\n        } // console.log(dossier, \"mes dossier ici PETIT TEST\");\n\n      }\n\n      if (this.state.dataFromBack) {\n        this.state.dataFromBack.map((row, i) => {\n          if (i >= 0) {\n            console.log(row, \"testttttttttttruuk\");\n            result.push(React.createElement(\"tr\", {\n              key: i,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 223\n              },\n              __self: this\n            }, React.createElement(\"th\", {\n              scope: \"row\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 224\n              },\n              __self: this\n            }, dossier[i]), React.createElement(\"th\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 225\n              },\n              __self: this\n            }, row[\"diag\"]), React.createElement(\"th\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 226\n              },\n              __self: this\n            }, row[\"scores\"], \" % \"), React.createElement(\"th\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 227\n              },\n              __self: this\n            }, React.createElement(Radio.Group, {\n              name: \"radiogroup\",\n              value: this.state.value,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 228\n              },\n              __self: this\n            }, React.createElement(Radio, {\n              onChange: this.handleChange,\n              value: i,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 229\n              },\n              __self: this\n            })))));\n          }\n        });\n      }\n\n      return result;\n    };\n\n    this.state = {\n      selectedFile: null,\n      //mon fichier est stoker ici//\n      dataFromBack: [],\n      selectedCheckbox: [],\n      value: 1,\n      message: [],\n      loading: false,\n      backArrayFileName: [],\n      listeDossier: [],\n      listeNomDossier: [],\n      indice: null\n    };\n  }\n\n  render() {\n    console.log(\"value\", this.state.value);\n    console.log(\"selectedCHECKBOX\", this.state.selectedCheckbox);\n    var Test = \"\";\n\n    if (this.state.selectedCheckbox[0]) {\n      Test = this.state.selectedCheckbox[0][\"diag\"];\n    }\n\n    let buttonNext = \"\";\n    let champ = \"\";\n    let tab = \"\";\n    let message = \"\";\n\n    if (this.state.dataFromBack[0] !== undefined) {\n      buttonNext = React.createElement(\"button\", {\n        className: \"button-next\",\n        onClick: this.sendFileBack,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, \"Valider et continuer\");\n      champ = React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        id: \"formGroupExampleInput\",\n        placeholder: Test,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      })));\n      tab = React.createElement(\"table\", {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, \"Nom du dossier\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, \"Diagnostic\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, \"Score\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, \"Validation\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, this.drawLine()));\n    }\n\n    if (this.state.message[0] !== undefined) {\n      if (this.state.message[0] === 200) {\n        message = React.createElement(\"div\", {\n          className: \"alert alert-success\",\n          role: \"alert\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289\n          },\n          __self: this\n        }, this.state.message[1]);\n      } else {\n        message = React.createElement(\"div\", {\n          className: \"alert alert-danger\",\n          role: \"alert\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 295\n          },\n          __self: this\n        }, this.state.message[1]);\n      }\n    }\n\n    const loading = this.state.loading;\n\n    if (loading) {\n      var texteLoading = React.createElement(\"img\", {\n        src: \"./loading.svg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      });\n    } // console.log(this.state.listeNomDossier, \"STEP 2\");\n    // console.log(this.state.dataFromBack, \"STEP 5\");\n\n\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"d-flex align-items-center bd-highlight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, \"1\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, \"Chargez le dossier\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }), \"formats accept\\xE9s: docx, pdf, html, png, jpeg, tiff\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      method: \"post\",\n      action: \"#\",\n      id: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group files\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"inputFile\",\n      type: \"file\",\n      accept: \" .txt , .pdf, .png, .svg, .tiff, .tif, .bitmap , .bmp, .html , .htm , .jpg , .jpeg , .doc, .docx , .xml ,application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document , \",\n      name: \"file\",\n      multiple: true,\n      webkitdirectory: \"true\",\n      mozdirectory: \"true\",\n      onChange: this.loadingFileUpload,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn\",\n      onClick: this.OnClickUpload,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }, \"Upload\"))))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348\n      },\n      __self: this\n    }), texteLoading, React.createElement(\"div\", {\n      className: \"d-flex align-items-center bd-highlight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }, \"2\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, \"Consultez le r\\xE9sultat\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }), \"le tableau des codifications CIM-10\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, tab)), React.createElement(\"div\", {\n      className: \"d-flex align-items-center bd-highlight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }, \"3\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366\n      },\n      __self: this\n    }, \"Validez ou corrigez\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }), \"Si le r\\xE9sultat de l'algorithme ne convient pas,\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369\n      },\n      __self: this\n    }), \"veuillez corriger le code dans la case en face\", \" \"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372\n      },\n      __self: this\n    }, champ), React.createElement(AutoComplet, {\n      selectedCheckbox: this.state.selectedCheckbox,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373\n      },\n      __self: this\n    })), message), React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: \"/home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.sendFileBack,\n      className: \"Exit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379\n      },\n      __self: this\n    }, \"Terminer\")), buttonNext)));\n  }\n\n}\n\nexport default Upload;","map":{"version":3,"sources":["/Users/macbookpro/Desktop/Brouillon Doctegestion/Doctegestio finish/Front/src/components/Drop.js"],"names":["React","Radio","axios","AutoComplet","NavLink","timer","Upload","Component","constructor","props","loadingFileUpload","e","setState","selectedFile","target","files","fileName","console","log","i","Object","values","push","name","webkitRelativePath","backArrayFileName","OnClickUpload","state","listeDossier","length","listeNomDossier","data","FormData","path","split","undefined","loading","message","arrayData","concat","forEach","file","append","replace","tempDebut","Date","now","post","then","res","newDataBack","newResult","resulJson","dataFromBack","selectedCheckbox","returnRsult","handleChange","value","testTab","document","getElementById","sendFileBack","ArrayBack","selectedData","diag","scores","checkModif","score","method","url","Diags","returnResult","status","drawLine","result","dossier","map","row","indice","render","Test","buttonNext","champ","tab","texteLoading"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Radio } from \"antd\";\nimport axios from \"axios\";\nimport AutoComplet from \"./Autocomplet\";\nimport { NavLink } from \"react-router-dom\";\n\nlet timer = 0;\n\nclass Upload extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedFile: null, //mon fichier est stoker ici//\n      dataFromBack: [],\n      selectedCheckbox: [],\n      value: 1,\n      message: [],\n      loading: false,\n      backArrayFileName: [],\n      listeDossier: [],\n      listeNomDossier: [],\n      indice: null\n    };\n  }\n\n  loadingFileUpload = e => {\n    this.setState({\n      selectedFile: e.target.files\n    });\n\n    let fileName = [];\n    console.log(\"e.target.files\", e.target.files);\n    for (let i in e.target.files) {\n      if (Object.values(e.target.files)[i]) {\n        fileName.push(\n          Object.values(e.target.files)[i].name,\n          Object.values(e.target.files)[i].webkitRelativePath\n        );\n      }\n    }\n    // console.log(\"FILENAME\", fileName);\n    this.setState({\n      backArrayFileName: fileName\n    });\n    // console.log(this.state.listeDossier, \"STATEEEE\");\n  };\n\n  OnClickUpload = async () => {\n    if (this.state.selectedFile !== null) {\n      let listeDossier = this.state.listeDossier.length\n        ? this.state.listeDossier\n        : [];\n      let listeNomDossier = this.state.listeNomDossier.length\n        ? this.state.listeNomDossier\n        : [];\n\n      const data = new FormData();\n      if (listeDossier.length === 0) {\n        // console.log(this.state.selectedFile, \"selected files\");\n        for (var i = 1; i < this.state.selectedFile.length; i++) {\n          let path = this.state.selectedFile[i].webkitRelativePath.split(\"/\");\n          if (listeDossier[path[1]] !== undefined) {\n            listeDossier[path[1]].push(this.state.selectedFile[i]);\n          } else {\n            listeDossier[path[1]] = [this.state.selectedFile[i]];\n            listeDossier.push(listeDossier[path[1]]);\n            listeNomDossier.push(path[1]);\n          }\n        }\n        this.setState({\n          loading: true,\n          message: [],\n          listeDossier: listeDossier,\n          listeNomDossier: listeNomDossier\n        });\n      } else {\n        this.setState({\n          loading: false\n        });\n      }\n\n      if (listeDossier.length !== 0) {\n        // console.log(listeDossier, \"TESTTTT\");\n        let arrayData = [];\n        for (let i = 0; i < listeDossier.length; i++) {\n          arrayData = arrayData.concat(listeDossier[i]);\n        }\n\n        arrayData.forEach(function(file) {\n          if (file)\n            data.append(\n              \"file\",\n              file,\n              file.webkitRelativePath.replace(/[/]/g, \" ** \")\n            );\n        });\n      }\n      // console.log(arrayData, \"TEST\");\n      //} else {\n      //   console.log(listeDossier, \"LISTE DOSSIER VIDE\");\n      //   for (\n      //     let i = 0;\n      //     i < listeDossier[listeNomDossier[this.state.indice]].length;\n      //     i++\n      //   )\n      //     data.append(\n      //       \"file\",\n      //       listeDossier[listeNomDossier[this.state.indice]][i]\n      //     );\n      // }\n\n      let tempDebut = Date.now();\n      await axios.post(\"http://localhost:3001/upload\", data, {}).then(res => {\n        let newDataBack = res.data;\n        // console.log(newDataBack, \"data BACK iCIII\");\n\n        let newResult = [];\n        for (let i = 0; i < newDataBack.length; i++) {\n          newResult.push(newDataBack[i][0].resulJson[1]);\n        }\n\n        timer = Date.now() - tempDebut;\n        // console.log(timer, \"MS\");\n        // var TableData = [];\n        // TableData.push(res.data[0].resulJson[1]);\n        this.setState({\n          loading: false,\n          dataFromBack: newResult,\n          selectedCheckbox: newResult\n        });\n      });\n    } else {\n      let returnRsult = [];\n      returnRsult.push(404);\n      returnRsult.push(\"Upload un document\");\n      this.setState({\n        message: returnRsult\n      });\n    }\n  };\n\n  handleChange = e => {\n    if (e.target.value) {\n      const testTab = [];\n      testTab.push(this.state.dataFromBack[e.target.value]);\n      document.getElementById(\"formGroupExampleInput\").value =\n        testTab[0][\"diag\"];\n      this.setState({\n        selectedCheckbox: testTab,\n        value: e.target.value\n      });\n    }\n  };\n\n  sendFileBack = async () => {\n    document.getElementById(\"inputFile\").value = null;\n    if (document.getElementById(\"formGroupExampleInput\") !== null) {\n      let ArrayBack = this.state.backArrayFileName;\n      let selectedData = [];\n\n      if (document.getElementById(\"formGroupExampleInput\").value === \"\") {\n        selectedData = [\n          {\n            diag: this.state.selectedCheckbox[0][\"diag\"],\n            scores: this.state.selectedCheckbox[0][\"scores\"],\n            checkModif: false\n          }\n        ];\n      } else {\n        selectedData = [\n          {\n            diag: document.getElementById(\"formGroupExampleInput\").value,\n            score: this.state.selectedCheckbox[0][\"scores\"],\n            checkModif: true\n          }\n        ];\n      }\n      const data = new FormData();\n      data.append(\"radiogroup\", this.state.selectedCheckbox); //recuperer la donnée de fromback et la checkbok l'indice de validation\n      await axios({\n        method: \"post\",\n        url: \"http://localhost:3001/radio?mail=illshaad.budureea@dgmail.fr\",\n        data: {\n          data: selectedData,\n          file: ArrayBack,\n          timer: timer,\n          Diags: this.state.dataFromBack\n        }\n      }).then(res => {\n        let returnResult = [];\n        returnResult.push(res.status);\n        if (res.status === 200) {\n          returnResult.push(\"Fichier envoyé\");\n        } else {\n          returnResult.push(\"error type : \" + res.status);\n        }\n        this.setState({\n          selectedFile: null,\n          dataFromBack: [],\n          selectedCheckbox: [],\n          value: 1,\n          message: returnResult\n        });\n      });\n    }\n  };\n\n  drawLine = () => {\n    let result = [];\n    let dossier = [];\n    if (this.state.listeNomDossier) {\n      // console.log(this.state.listeNomDossier, \"liste nom dossier\");\n      for (let i = 0; i < this.state.listeNomDossier.length; i++) {\n        dossier.push(this.state.listeNomDossier[i]);\n      }\n      // console.log(dossier, \"mes dossier ici PETIT TEST\");\n    }\n    if (this.state.dataFromBack) {\n      this.state.dataFromBack.map((row, i) => {\n        if (i >= 0) {\n          console.log(row, \"testttttttttttruuk\");\n          result.push(\n            <tr key={i}>\n              <th scope=\"row\">{dossier[i]}</th>\n              <th>{row[\"diag\"]}</th>\n              <th>{row[\"scores\"]} % </th>\n              <th>\n                <Radio.Group name=\"radiogroup\" value={this.state.value}>\n                  <Radio onChange={this.handleChange} value={i}></Radio>\n                </Radio.Group>\n              </th>\n            </tr>\n          );\n        }\n      });\n    }\n    return result;\n  };\n\n  render() {\n    console.log(\"value\", this.state.value);\n    console.log(\"selectedCHECKBOX\", this.state.selectedCheckbox);\n    var Test = \"\";\n    if (this.state.selectedCheckbox[0]) {\n      Test = this.state.selectedCheckbox[0][\"diag\"];\n    }\n    let buttonNext = \"\";\n    let champ = \"\";\n    let tab = \"\";\n    let message = \"\";\n\n    if (this.state.dataFromBack[0] !== undefined) {\n      buttonNext = (\n        <button className=\"button-next\" onClick={this.sendFileBack}>\n          Valider et continuer\n        </button>\n      );\n      champ = (\n        <form>\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"formGroupExampleInput\"\n              placeholder={Test}\n            />\n          </div>\n        </form>\n      );\n\n      tab = (\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Nom du dossier</th>\n              <th scope=\"col\">Diagnostic</th>\n              <th scope=\"col\">Score</th>\n              <th scope=\"col\">Validation</th>\n            </tr>\n          </thead>\n          <tbody>{this.drawLine()}</tbody>\n        </table>\n      );\n    }\n\n    if (this.state.message[0] !== undefined) {\n      if (this.state.message[0] === 200) {\n        message = (\n          <div className=\"alert alert-success\" role=\"alert\">\n            {this.state.message[1]}\n          </div>\n        );\n      } else {\n        message = (\n          <div className=\"alert alert-danger\" role=\"alert\">\n            {this.state.message[1]}\n          </div>\n        );\n      }\n    }\n    const loading = this.state.loading;\n    if (loading) {\n      var texteLoading = <img src=\"./loading.svg\" />;\n    }\n\n    // console.log(this.state.listeNomDossier, \"STEP 2\");\n    // console.log(this.state.dataFromBack, \"STEP 5\");\n\n    return (\n      <div className=\"container\">\n        <div className=\"\">\n          <div className=\"\">\n            <div className=\"logo\"></div>\n            <div className=\"d-flex align-items-center bd-highlight\">\n              <div>\n                <div className=\"text\">1</div>\n              </div>\n              <div>\n                <h1>Chargez le dossier</h1>\n                <br />\n                formats acceptés: docx, pdf, html, png, jpeg, tiff\n              </div>\n              <div>\n                <form method=\"post\" action=\"#\" id=\"#\">\n                  <div className=\"form-group files\">\n                    <input\n                      id=\"inputFile\"\n                      type=\"file\"\n                      accept=\" .txt , .pdf, .png, .svg, .tiff, .tif, .bitmap , .bmp, .html , .htm , .jpg , .jpeg , .doc, .docx , .xml ,application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document , \"\n                      name=\"file\"\n                      multiple={true}\n                      webkitdirectory=\"true\"\n                      mozdirectory=\"true\"\n                      onChange={this.loadingFileUpload}\n                    />\n\n                    <button\n                      type=\"button\"\n                      className=\"btn\"\n                      onClick={this.OnClickUpload}\n                    >\n                      Upload\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n            <br />\n            {texteLoading}\n            <div className=\"d-flex align-items-center bd-highlight\">\n              <div>\n                <div className=\"text\">2</div>\n              </div>\n              <div>\n                <h1>Consultez le résultat</h1>\n                <br />\n                le tableau des codifications CIM-10\n              </div>\n              <div>{tab}</div>\n            </div>\n            <div className=\"d-flex align-items-center bd-highlight\">\n              <div>\n                <div className=\"text\">3</div>\n              </div>\n              <div>\n                <h1>Validez ou corrigez</h1>\n                <br />\n                Si le résultat de l'algorithme ne convient pas,\n                <br />\n                veuillez corriger le code dans la case en face{\" \"}\n              </div>\n              <div>{champ}</div>\n              <AutoComplet selectedCheckbox={this.state.selectedCheckbox} />\n            </div>\n            {message}\n          </div>\n          <div className=\"d-flex justify-content-center\">\n            <NavLink to=\"/home\">\n              <button\n                type=\"button\"\n                onClick={this.sendFileBack}\n                className=\"Exit\"\n              >\n                Terminer\n              </button>\n            </NavLink>\n            {buttonNext}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Upload;\n"]},"metadata":{},"sourceType":"module"}